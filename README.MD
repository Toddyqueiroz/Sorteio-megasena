# üî¢ MegaSena Redis

Este projeto simula sorteios fict√≠cios da Mega-Sena, armazenando e consultando os dados em um banco Redis. Ideal para fins did√°ticos.

---

## üö® RECOMENDA√á√ïES IMPORTANTES

1. No arquivo `connect_redis.py`, configure corretamente suas credenciais do Redis Cloud. **Se n√£o fizer isso, o sistema n√£o funcionar√°!**
2. As consultas s√≥ funcionar√£o se os sorteios j√° tiverem sido gerados. Execute primeiro o script `megasena_redis.py`.
3. Ordem recomendada para rodar o programa:

```
1 - test_connection_redis.py  
2 - limpeza_redis.py  
3 - megasena_redis.py  
4 - consulta_redis.py  
```

Executar `consulta_redis.py` antes de `megasena_redis.py` resultar√° em erro por falta de dados.

---

## üìÅ O QUE CADA ARQUIVO FAZ?

- `connect_redis.py` ‚Üí Arquivo de configura√ß√£o. Insira suas credenciais aqui para conectar com o Redis.
- `megasena_redis.py` ‚Üí Gera os sorteios e salva no banco (somente quartas e s√°bados).
- `test_connection_redis.py` ‚Üí Testa se a conex√£o com o Redis est√° funcionando corretamente.
- `limpeza_redis.py` ‚Üí Apaga todos os sorteios salvos no banco. √ötil em caso de dados corrompidos ou duplicados.
- `consulta_redis.py` ‚Üí Menu interativo com op√ß√µes de consulta por n√∫mero, data, intervalo de n√∫meros ou intervalo de datas.

---

## üß† COMO FUNCIONA O BANCO REDIS AQUI?

O sistema cria dois grupos de chaves:

- `sorteio:{numero}` ‚Üí Cont√©m os dados completos de um sorteio (data, n√∫meros, ganhadores).
- `data:{dd-mm-aaaa}` ‚Üí Cont√©m apenas o n√∫mero do sorteio daquela data.

Isso permite buscas eficientes tanto por n√∫mero quanto por data.

---

## üõ†Ô∏è ETAPAS PARA EXECUTAR O PROJETO

### 1Ô∏è‚É£ Criar uma conta e banco no Redis Cloud

1. Acesse: https://redis.io/try-free/
2. Crie uma conta e entre no painel.
3. Clique em **Create Database** e escolha:
   - Um nome para o banco
   - Um provedor (AWS, Google Cloud etc.)
   - A regi√£o mais pr√≥xima
   - **Tipo**: Redis Stack
4. Pronto! Seu banco est√° criado.

---

### 2Ô∏è‚É£ Obter suas credenciais do Redis

1. No painel, v√° na aba **Databases** e clique em **Connect** no banco que voc√™ criou.
2. Selecione a aba **Redis Client** e depois **Python**.
3. Copie os seguintes dados:

```python
host='seu_host_aqui',
port=seu_port,
username="default",
password="sua_senha",
decode_responses=True
```

4. Cole no arquivo `connect_redis.py` nos locais indicados.

---

### 3Ô∏è‚É£ Instalar as depend√™ncias

Voc√™ pode rodar o projeto pelo VSCode ou CMD.

#### üíª Pelo VSCode

- Abra o terminal ‚Üí Selecione "Split Terminal" e selecione o CMD (pelo powershell costuma bloquear o download das dependencias.)
- Execute:

```bash
pip install redis
pip install python-dotenv 
```
- Aparecer√° uma pasta `venv` no projeto indicando sucesso, se a pasta nao aparecer rode o comando abaixo no cmd pra criar o ambiente virtual.
```bash
python -m venv venv
```
- Ap√≥s aparecer a pastinha venv no projeto avance para o proximo passo.


#### üñ•Ô∏è Pelo CMD

- Abra o CMD como administrador
- Navegue at√© a pasta do projeto:

```bash
cd C:\caminho\do\seu\projeto
```

- Execute:

```bash
pip install redis
pip install python-dotenv
```
- Aparecer√° uma pasta `venv` no projeto indicando sucesso, se a pasta nao aparecer rode o comando abaixo no cmd pra criar o ambiente virtual.
```bash
python -m venv venv
```
- Ap√≥s aparecer a pastinha venv no projeto avance para o proximo passo.

---

### 4Ô∏è‚É£ Rodar o programa

1. Ative o ambiente virtual:

```bash
.\venv\Scripts\activate
```

2. Execute os arquivos na ordem recomendada:
```bash
python test_connection_redis.py
python limpeza_redis.py
python megasena_redis.py
python consulta_redis.py
```

---

### Possiveis erros na hora de rodar os arquivos:

- se na hora de rodar os arquivos aparecer o seguinte erro: ModuleNotFoundError: No module named 'redis'
- rode o comando abaixo:
```bash
pip install redis
```
- se aparecer esse erro:

```
Traceback (most recent call last):
  File "C:\caminho do seu projeto\test_connection_redis.py", line 2, in <module>
    from connect_redis import r
  File "C:\caminho do seu projeto\connect_redis.py", line 11
    port= porta aqui, #esta com erro porque ele espera um numero, apos colocar o numero da porta do seu banco de dados vai funcionar.
          ^^^^^^^^^^
SyntaxError: invalid syntax. Perhaps you forgot a comma? 
```

- esse erro acima acontece porque voce nao configurou corretamente a conexao com o banco de dados!

---

üöÄ Projeto feito para aprendizado com Redis e Python!